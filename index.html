<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christian Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <style>
        :root {
            --primary-font: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --background-color: #f4f6f8;
            --card-background-default: #ffffff; 
            --card-bg-1: #f0eaff; --card-bg-2: #fff9e0; --card-bg-3: #e6ffed; --card-bg-4: #ffe6e6;
            --text-color-primary: #333333; --text-color-secondary: #777777;
            --accent-color: #5D3FD3; /* Purple for sign-up button and active states */
            --accent-color-rgb: 93, 63, 211; /* RGB for rgba() backgrounds */
            --accent-color-cta: #ff7043;
            --buy-button-bg: #333; --buy-button-text: #ffffff;
            --border-color: #e0e0e0; --shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            --icon-color: #555; --disabled-input-bg: #e9ecef;
            --bottom-nav-height: 70px; 
            --avatar-bg: #FFE0B2; 
            --avatar-icon-color: #E67E22; 
        }
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: var(--primary-font); line-height: 1.6; color: var(--text-color-primary);
            background-color: var(--background-color); display: flex; flex-direction: column;
            min-height: 100vh; 
            padding-bottom: var(--bottom-nav-height); 
            transition: padding-bottom 0.3s ease-in-out;
        }
        body.modal-open {
            overflow: hidden;
        }
        body.no-bottom-padding {
            padding-bottom: 0 !important;
        }

        .container { width: 95%; max-width: 1200px; margin: 0 auto; padding: 0 15px; }
        header {
            background: var(--card-background-default); padding: 15px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 990; 
        }
        header .container { display: flex; justify-content: space-between; align-items: center; }
        header .store-title { font-size: 1.5rem; font-weight: 600; color: var(--text-color-primary); }
        header .header-icons { display: flex; gap: 18px; align-items: center; }
        header .header-icons .icon-btn {
            font-size: 1.2rem; color: var(--icon-color); background: none;
            border: none; cursor: pointer; position: relative;
        }
        header .header-icons .icon-btn .badge {
            position: absolute; top: -5px; right: -8px; background-color: var(--accent-color-cta);
            color: white; font-size: 0.65rem; padding: 1px 4px; border-radius: 50%; font-weight: bold;
        }
        .grid-toggle-icon { font-size: 1.4rem !important; }
        main { flex: 1; padding-top: 20px; }
        .section-title-main { font-size: 1.3rem; font-weight: 600; margin-bottom: 15px; color: var(--text-color-primary); }
        #categories-section { margin-bottom: 25px; }
        #categories-container {
            display: flex; flex-wrap: nowrap; gap: 10px; overflow-x: auto;
            padding-bottom: 10px; -webkit-overflow-scrolling: touch;
        }
        #categories-container::-webkit-scrollbar { display: none; }
        #categories-container { -ms-overflow-style: none; scrollbar-width: none; }
        .category-btn {
            background-color: var(--card-background-default); color: var(--text-color-secondary);
            border: 1px solid var(--border-color); padding: 7px 15px; border-radius: 18px;
            cursor: pointer; transition: all 0.3s ease; font-weight: 500;
            font-size: 0.85rem; white-space: nowrap; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .category-btn:hover { border-color: var(--accent-color); color: var(--accent-color); }
        .category-btn.active {
            background-color: var(--accent-color); color: var(--card-background-default);
            border-color: var(--accent-color);
        }
        #products-section-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 15px; color: var(--text-color-primary); }
        #products-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .product-card {
            background: var(--card-background-default); border-radius: 15px; box-shadow: var(--shadow);
            overflow: hidden; display: flex; flex-direction: column; transition: transform 0.2s ease-in-out;
        }
        .product-card:hover { transform: translateY(-3px); }
        .product-card .product-image-container {
            position: relative; padding: 15px 15px 5px 15px; display: flex;
            justify-content: center; align-items: center; height: 130px; cursor: pointer;
        }
        .product-card img { max-width: 100%; max-height: 100%; object-fit: contain; }
        .product-card .wishlist-icon {
            position: absolute; top: 10px; right: 10px; font-size: 1rem;
            color: var(--text-color-secondary); background-color: rgba(255, 255, 255, 0.8);
            width: 28px; height: 28px; display: flex; justify-content: center;
            align-items: center; border-radius: 50%; cursor: pointer; transition: color 0.2s;
        }
        .product-card .wishlist-icon.active { color: #ff4b4b; }
        .product-card-content { padding: 0px 12px 12px 12px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-card-content h3.product-title {
            font-size: 0.9rem; font-weight: 500; margin-bottom: 4px; color: var(--text-color-primary);
            line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
            overflow: hidden; text-overflow: ellipsis; min-height: 1.3em; cursor: pointer;
        }
        .product-info-bottom { display: flex; justify-content: space-between; align-items: center; margin-top: auto; }
        .product-card-content .product-price { font-weight: 600; color: var(--text-color-primary); font-size: 0.95rem; }
        .product-card-content .buy-btn {
            background-color: var(--buy-button-bg); color: var(--buy-button-text); border: none;
            padding: 5px 12px; border-radius: 15px; cursor: pointer; font-size: 0.75rem;
            font-weight: 500; transition: background-color 0.2s;
        }
        .product-card-content .buy-btn:hover { background-color: lighten(var(--buy-button-bg), 10%); }
        
        /* --- Modal Styles --- */
        .modal { 
            display: none; position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; bottom: var(--bottom-nav-height); 
            background-color: rgba(0,0,0,0.5);
            overflow: hidden; 
        }
        .modal#productDetailModal,
        .modal#signupMobileModal, 
        .modal#otpVerificationModal { 
            bottom: 0; 
        }

        .modal-content { 
            background-color: var(--background-color); width: 100%; height: 100%; 
            display: flex; flex-direction: column;
            animation: slideUp 0.3s ease-out;
            border-radius: 0; box-shadow: none;
        }
        #settingsModal .modal-content,
        #signupMobileModal .modal-content, 
        #otpVerificationModal .modal-content { 
            background-color: var(--background-color); 
        }


        @keyframes slideUp { 
            from { transform: translateY(100%); opacity: 0.7; } 
            to { transform: translateY(0); opacity: 1; } 
        }
        
        .modal-header {
            display: flex; 
            align-items: center;
            padding: 12px 15px; background-color: var(--card-background-default);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            flex-shrink: 0; 
            position: relative; 
        }
        .modal-header .modal-title { 
            font-size: 1.1rem; font-weight: 600; 
            flex-grow: 1; 
            text-align: center; 
        }
        .modal-header .back-btn { 
            font-size: 1.2rem; color: var(--icon-color); background: none; border: none; cursor: pointer;
            position: absolute; 
            left: 15px; 
        }
        .modal-header .cart-btn-modal { 
            font-size: 1.2rem; color: var(--icon-color); background: none; border: none; cursor: pointer;
            position: absolute; 
            right: 15px;
        }
        #myOrdersModal .modal-header .modal-title,
        #settingsModal .modal-header .modal-title,
        #signupMobileModal .modal-header .modal-title,
        #otpVerificationModal .modal-header .modal-title {
        }
        
        .modal-body { 
            flex-grow: 1; overflow-y: auto; padding: 0; 
        }
        #productDetailModal .modal-body { padding: 0; }
        #modal-product-info { background-color: var(--card-background-default); }
        #orderFormModal .modal-body, 
        #myOrdersModal .modal-body,
        #signupMobileModal .modal-body, 
        #otpVerificationModal .modal-body { 
            padding: 20px; 
        }
        #myOrdersModal .modal-body { display: flex; flex-direction: column; }
        #myOrdersModal .modal-body .no-orders { margin: auto; text-align: center; }

        /* --- Settings Modal Specific Styles --- */
        #settingsModal .modal-body { padding: 0; background-color: var(--background-color); }
        .settings-profile-section {
            display: flex; flex-direction: column; align-items: center;
            padding: 25px 20px; background-color: var(--card-background-default);
            margin-bottom: 10px; border-bottom: 1px solid var(--border-color);
        }
        .settings-avatar-container { 
            width: 80px; height: 80px; border-radius: 50%;
            background-color: var(--avatar-bg);
            display: flex; justify-content: center; align-items: center;
            margin-bottom: 20px; overflow: hidden; 
        }
        .settings-avatar-container i.fa-user { font-size: 3rem; color: var(--avatar-icon-color); }
        
        .btn-settings-action { 
            border: none; border-radius: 8px; padding: 12px 20px;
            font-size: 0.95rem; font-weight: 600; cursor: pointer;
            transition: background-color 0.2s;
            width: auto; min-width: 150px; text-align: center;
            margin-bottom: 10px; 
        }
        .btn-signup-settings { 
            background-color: var(--accent-color); color: white;
        }
        .btn-signup-settings:hover { background-color: darken(var(--accent-color), 10%); }
        
        .btn-logout-settings { 
            background-color: #e74c3c; 
            color: white;
        }
        .btn-logout-settings:hover { 
            background-color: #c0392b; 
        }

        .profile-details-text {
            color: var(--text-color-secondary); font-size: 0.85rem;
            text-align: center; margin-top: 5px;
        }
        #loggedInUserInfo { 
            font-weight: 600;
            color: var(--text-color-primary);
            margin-top: 10px;
        }
        .settings-actions-section {
            background-color: var(--card-background-default);
            padding-top: 5px; padding-bottom: 5px; 
        }
        .settings-action-item {
            display: flex; align-items: center; padding: 15px 20px;
            background-color: transparent; border: none; 
            border-bottom: 1px solid var(--border-color);
            width: 100%; text-align: left; font-size: 0.95rem; 
            color: var(--text-color-primary); cursor: pointer;
            transition: background-color 0.2s;
        }
        .settings-action-item:last-child { border-bottom: none; }
        .settings-action-item i {
            margin-right: 15px; color: var(--icon-color); 
            font-size: 1.1rem; width: 24px; text-align: center;
        }
        .settings-action-item:hover { background-color: #f0f0f0; }

        /* Product Detail Specific Styles */
        #modal-product-info .product-detail-image-wrapper {
            background-color: #FFFBEB; border-radius: 20px; margin: 15px; padding: 20px;
            display: flex; justify-content: center; align-items: center; min-height: 280px;
        }
        #modal-product-info img.product-detail-image { max-width: 100%; max-height: 250px; object-fit: contain; }
        .product-detail-content { padding: 0 20px 20px 20px; }
        .product-detail-content h3.detail-title { font-size: 1.4rem; font-weight: 600; margin-top: 10px; margin-bottom: 8px; }
        .product-detail-content .detail-price { font-size: 1.6rem; font-weight: 700; color: var(--text-color-primary); margin-bottom: 10px; }
        .product-detail-content .stock-status { font-size: 0.85rem; color: var(--text-color-secondary); margin-bottom: 15px; font-weight: 400; }
        .product-detail-content .stock-status i { color: #28a745; margin-right: 5px;}
        .product-options .option-group { margin-bottom: 15px; }
        .product-options .option-label { font-size: 0.9rem; font-weight: 500; margin-bottom: 8px; display: block; }
        .product-options .option-buttons { display: flex; gap: 10px; flex-wrap: wrap; }
        .product-options .option-btn {
            padding: 7px 12px; border: 1px solid var(--border-color); border-radius: 8px;
            cursor: pointer; background-color: #f9f9f9; font-size: 0.85rem; color: var(--text-color-secondary);
        }
        .product-options .option-btn.selected { border-color: var(--accent-color-cta); background-color: var(--accent-color-cta); color: white; font-weight: 500; }
        .product-options .color-dot {
            width: 28px; height: 28px; border-radius: 50%; border: 2px solid #fff;
            box-shadow: 0 0 0 1px var(--border-color); cursor: pointer;
        }
        .product-options .color-dot.selected { box-shadow: 0 0 0 2px var(--accent-color-cta); }
        .product-detail-content .description-title { font-size: 1rem; font-weight: 600; margin-top: 20px; margin-bottom: 8px; }
        .product-detail-content .description-text { font-size: 0.85rem; color: var(--text-color-secondary); line-height: 1.7; }
        
        .modal-footer { 
            padding: 15px; background-color: var(--card-background-default); 
            box-shadow: 0 -2px 4px rgba(0,0,0,0.05);
            flex-shrink: 0; 
        }
        .modal-footer .btn-cta {
            display: block; width: 100%; background-color: var(--accent-color-cta); color: white;
            padding: 14px; border: none; border-radius: 10px; font-size: 0.95rem;
            font-weight: 600; text-align: center; cursor: pointer; transition: background-color 0.2s;
        }
        .modal-footer .btn-cta:hover { background-color: darken(var(--accent-color-cta), 10%); }
        
        /* Order Form & Auth Form Specific Styles */
        #orderForm .form-group, 
        #mobileSignupForm .form-group, 
        #otpVerifyForm .form-group { 
            margin-bottom: 15px; 
        }
        #orderForm label,
        #mobileSignupForm label,
        #otpVerifyForm label { 
            display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9rem; 
        }
        #orderForm input[type="text"], #orderForm input[type="tel"], 
        #orderForm input[type="number"], #orderForm select, #orderForm textarea,
        #mobileSignupForm input[type="tel"], 
        #otpVerifyForm input[type="number"] {
            width: 100%; padding: 12px; border: 1px solid var(--border-color);
            border-radius: 8px; font-family: var(--primary-font); font-size: 0.95rem;
            background-color: white;
        }
        #orderForm input:disabled, #orderForm select:disabled, #orderForm textarea:disabled { 
            background-color: var(--disabled-input-bg); cursor: not-allowed; 
        }
        .pincode-status { font-size: 0.8rem; margin-top: 5px; }
        .pincode-status.loading { color: var(--text-color-secondary); }
        .pincode-status.error { color: #dc3545; }
        .pincode-status.success { color: #28a745; }

        #ordersListContainer { padding: 0; } 
        #ordersListContainer .order-item {
            background-color: var(--card-background-default); padding: 15px; margin-bottom: 12px;
            border-radius: 10px; box-shadow: var(--shadow); border-left: 4px solid var(--accent-color);
        }

        /* Enhanced Bottom Navigation Bar Styles */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; 
            background-color: var(--card-background-default);
            box-shadow: 0 -3px 8px rgba(0,0,0,0.07); 
            display: flex; justify-content: space-around;
            padding: 5px 0; z-index: 998; 
            height: var(--bottom-nav-height); 
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .bottom-nav.is-hidden {
            transform: translateY(100%); opacity: 0;
            pointer-events: none; 
        }
        .bottom-nav-item {
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center; 
            text-decoration: none;
            color: var(--text-color-secondary); 
            font-size: 0.65rem; font-weight: 500; 
            cursor: pointer; flex: 1; padding: 6px 4px; 
            border-radius: 16px; 
            transition: background-color 0.25s ease-in-out, color 0.25s ease-in-out, transform 0.15s ease-in-out;
            position: relative; -webkit-tap-highlight-color: transparent; 
            text-align: center; min-width: 60px; 
        }
        .bottom-nav-item i { font-size: 1.25rem; margin-bottom: 2px; transition: transform 0.2s ease-in-out; }
        .bottom-nav-item span { line-height: 1.2; }
        .bottom-nav-item.active { color: var(--accent-color); background-color: rgba(var(--accent-color-rgb), 0.12); }
        .bottom-nav-item.active i, .bottom-nav-item.active span { color: var(--accent-color); }
        @media (hover: hover) {
            .bottom-nav-item:not(.active):hover { background-color: rgba(var(--accent-color-rgb), 0.05); color: var(--text-color-primary); }
            .bottom-nav-item:not(.active):hover i, .bottom-nav-item:not(.active):hover span { color: var(--text-color-primary); }
            .bottom-nav-item.active:hover { background-color: rgba(var(--accent-color-rgb), 0.18); }
        }
        .bottom-nav-item:active { transform: scale(0.96); background-color: rgba(var(--accent-color-rgb), 0.2); }
        
        /* Desktop Styles */
        @media (min-width: 768px) {
            body { padding-bottom: 0 !important; } 
            .bottom-nav { display: none !important; } 
            .modal { top: 0; left: 0; right: 0; bottom: 0; }
            .modal-content { 
                position: relative; margin: 5% auto; width: 90%; max-width: 480px;
                height: auto !important; max-height: 90vh; 
                border-radius: 15px; box-shadow: var(--shadow);
                animation: none; overflow: auto; 
            }
            .modal-header .modal-title { flex-grow: 0; margin-left: auto; margin-right: auto; }
            .modal-header .back-btn { position: static; margin-right: auto; order: -1; }
            .modal-header .cart-btn-modal { position: static; margin-left: auto; }
            #settingsModal .modal-content,
            #signupMobileModal .modal-content, 
            #otpVerificationModal .modal-content { 
                max-width: 420px; 
            }
            #settingsModal .modal-content {max-width: 5
